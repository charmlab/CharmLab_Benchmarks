# ============================================================
# Top-Level Experiment Configuration
# ============================================================
# This file is the ONLY thing a user needs to create/modify.
# All other layer configs can be overridden from here.

experiment:
  name: "compas_probe_mlp_experiment"
  seed: 42
  num_factuals: 5  # how many negative-class samples to generate counterfactuals for
  factual_selection: "negative_class"  # Options: "negative_class", "all"
  output_dir: "./results"
  save_results: true
  output_format: "csv"  # Options: "csv", "json", "both"
  logger: "info"  # Options: "debug", "info", "warning", "error"

# ---------- Data Layer ----------
data:
  name: "compas_carla"
  # Override any key inside the data config without editing it directly.
  # Keys here are merged ON TOP of whatever is in data_config_<name>.yml.
  overrides:
    train_split: 0.8
    balance_classes: false
    preprocessing_strategy: "standardize"

# ---------- Model Layer ----------
model:
  name: "mlp" # Options: "mlp", "logistic_regression", etc.
  overrides:
    epochs: 40
    learning_rate: 0.002
    optimizer: "rms"
    batch_size: 32
    hidden_layers: [[50, 50]]
    n_output: 2
    output_activation: "softmax"

# ---------- Method Layer ----------
method:
  name: "PROBE"  # Options: "ROAR", "PROBE", etc.
  overrides:
    # lambda_: 0.1
    # loss_type: "BCE"

# ---------- Evaluation Layer ----------
evaluation:
  metrics:
    - name: "Distance"
      # hyperparameters: {}  # Optional per-metric hyperparameters
  # Future: you could add more metric objects here
  # - name: "Sparsity"
  # - name: "Validity"